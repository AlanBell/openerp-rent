<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <!--
            Rent Order tree view
        -->
        <record model="ir.ui.view" id="rent_order_tree_view">
            <field name="name">rent.order.tree.view</field>
            <field name="model">rent.order</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Rent Orders">
                    <field name="ref"/>
                    <field name="date_created"/>
                    <field name="partner_id"/>
                    <field name="salesman"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>

        <!--
            Rent Order form view
        -->
        <record model="ir.ui.view" id="rent_order_form_view">
            <field name="name">rent.order.form.view</field>
            <field name="model">rent.order</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Rent Order">
                    <field name="ref"/>
                    <field name="date_created"/>
                    <field name="shop_id" widget="selection"/>
                    <field name="salesman"/>
                    <notebook colspan="4">
                        <page string="Rent Order">
                            <field name="partner_id" on_change="on_client_changed(partner_id)"/>
                            <field name="partner_order_address_id" groups="base.group_extended"
                                   domain="[('partner_id', '=', partner_id)]"/>
                            <field name="partner_shipping_address_id" groups="base.group_extended"
                                   domain="[('partner_id', '=', partner_id)]"/>
                            <field name="partner_invoice_address_id" groups="base.group_extended"
                                   domain="[('partner_id', '=', partner_id)]"/>
                            <group colspan="4" col="6">
                                <field name="date_begin_rent"/>
                                <field name="rent_duration"/>
                                <field name="rent_duration_unity"/>
                            </group>
                            <field name="rent_line_ids" nolabel="1" colspan="4"/>
                            <group colspan="4" col="6">
                                <field name="total"/>
                                <field name="total_taxes"/>
                                <field name="total_with_taxes"/>
                                <field name="total_with_discount"/>
                                <field name="total_taxes_with_discount"/>
                                <field name="total_with_taxes_with_discount"/>
                                <field name="discount"/>
                                <label string="Click on this button to refresh prices ->" colspan="2"/>
                                <button name="on_compute_clicked" string="Compute" icon="gtk-execute" colspan="2"/>
                            </group>
                        </page>
                        <page string="Notes">
                            <field name="notes" colspan="4" nolabel="1"/>
                        </page>
                    </notebook>
                    <group col="6">
                        <field name="state"/>
                        <button name="on_draft_clicked" string="Go back to draft" states="cancelled" type="object" icon="gtk-convert"/>
                        <button name="on_cancel_clicked" string="Cancel" states="draft,confirmed,ongoing" icon="gtk-cancel"/>
                        <button name="on_confirm_clicked" string="Confirm" states="draft" icon="gtk-ok"/>
                        <button name="on_generate_invoices_clicked" string="Generate invoices" states="confirmed" icon="gtk-apply"/>
                    </group>
                </form>
            </field>
        </record>

        <!--
            Rent Order Line form view.
        -->
        <record model="ir.ui.view" id="rent_order_line_form_view">
            <field name="name">rent.order.line.form.view</field>
            <field name="model">rent.order.line</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Rent Order Lines">
                    <notebook>
                        <page string="General">
                            <separator string="Product information" colspan="4"/>
                            <field name="product_id" colspan="4" on_change="on_product_changed(product_id,description)"/>
                            <field name="description"/>
                            <field name="product_id_uom"/>
                            <field name="quantity"/>
                            <field name="discount"/>
                            <separator string="Taxes" colspan="4"/>
                            <field name="tax_ids" colspan="4" nolabel="1"/>
                            <field name="state" colspan="4"/>
                        </page>
                        <page string="Notes">
                            <field name="notes" nolabel="1"/>
                        </page>
                    </notebook>
                </form>
            </field>
        </record>

        <!--
            Rent Order Line tree view.
        -->
        <record model="ir.ui.view" id="rent_order_line_tree_view">
            <field name="name">rent.order.line.tree.view</field>
            <field name="model">rent.order.line</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Rent Order Lines">
                    <field name="product_id"/>
                    <field name="quantity"/>
                    <field name="product_id_uom"/>
                    <field name="discount"/>
                    <field name="unit_price"/>
                    <field name="line_price"/>
                </tree>
            </field>
        </record>
    </data>
</openerp>
